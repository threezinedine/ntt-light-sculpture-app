from typing import Any, TypeAlias, Callable, Union, overload # type: ignore
from enum import Enum # type: ignore
# Engine pyi binding

# ============================ TYPEDEFS ============================
{% for typedef in typedefs %}
{{ typedef.name }}: TypeAlias = {{ convertType(typedef.name) }}
{% endfor %}
# ===================================================================

# ============================ ENUMS ============================
{% for enum in enums %}
class {{ enum.name }}(Enum):
    {% if enum.comment %}
    """
    {{ enum.comment }}
    """
    {% endif %}
    {% for constant in enum.constants %}
    {{ constant.name }} = {{ constant.value }}
    {% endfor %}
{% endfor %}
# ===================================================================

# ============================ STRUCTS ============================
{% for struct in structs %}
    {% if "python" in struct.annotations %}
class {{ struct.name }}:
        {% if struct.comment %}
    """
    {{ struct.comment }}
    """
        {% endif %}
        {% for attribute in struct.attributes %}
    @property
    def {{ attribute.name }}(self) -> {{ convertType(attribute.type) }}:
            {% if attribute.comment %}
        """
        {{ attribute.comment }}
        """
            {% endif %}
        ...
        {% endfor %}
    {% endif %}
{% endfor %}
# ===================================================================

# ============================ FUNCTIONS ============================
{% for function in functions %}
    {% if "python" in function.annotations %}
def {{ function.name}}(
        {% for arg in function.arguments %}
    {{ arg.name }}: {{ convertType(arg.type) }},
        {% endfor %}
) -> {{ convertType(function.returnType) }}:
        {% if function.comment %}
    """
    {{ function.comment }}
    """
        {% endif %}
    ...
    {% endif %}
{% endfor%}
# ===================================================================

# ============================ CLASSES ==============================
{% for class in classes %}
    {% if "python" in class.annotations %}
class {{ class.name }}:
        {% if class.comment %}
    """
    {{ class.comment }}
    """
        {% endif %}

        {% if class.constructors | length > 0 %}
            {% for constructor in class.constructors %}
    @overload
    def __init__(
        self,
                {% for arg in constructor.arguments %}
        {{ arg.name }}: {{ convertType(arg.type) }},
                {% endfor %}
    ) -> None:
        ...
            {% endfor %}
        {% endif %}

        {% if class.methods != [] %}
            {% for method in class.methods %}
                {% if method.isStatic or "singleton" in class.annotations %}
    @staticmethod
                {% endif %}
    def {{ method.name }}(
                    {% if method.isStatic or "singleton" in class.annotations %}
                    {% else %}
        self,
                    {% endif %}
                    {% for arg in method.arguments %}
        {{ arg.name }}: {{ convertType(arg.type) }},
                    {% endfor %}
    ) -> {{ convertType(method.returnType) }}: 
            {% if method.comment %}
        """
        {{ method.comment }}
        """
            {% endif %}
        ...
            {% endfor %}
        {% else %}
        ...
        {% endif %}
    {% endif %}
{% endfor %}
# ===================================================================